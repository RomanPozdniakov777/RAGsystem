# RAG Система

Система вопросов-ответов на основе документов с использованием Retrieval-Augmented Generation.
Позволяет задавать вопросы на русском языке и получать ответы, основанные на документации.

## Структура проекта

RAG/

├── rag_setup.py # Подготовка данных и индексация

├── rag_retriever.py # Поиск релевантных документов

├── rag_generator.py # Генерация ответов

├── rag_main.py # Главный файл запуска

├── requirements.txt # Зависимости

├── README.md # Эта инструкция

├── documents/ # Папка с вашими PDF документами

├── chroma_db/ # Векторная база данных (создается автоматически)

└── logs/ # Логи работы системы (создаются автоматически)

## Установка

1.  **Создайте виртуальное окружение:**
    ```bash
    python -m venv .venv
    # Активируйте его:
    # Windows:
    .venv\Scripts\activate
    # Linux/Mac:
    # source .venv/bin/activate
    ```

2.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```
    Основные зависимости включают: `transformers`, `torch`, `chromadb`, `sentence-transformers`, `PyPDF2`, `accelerate`.

## Подготовка данных

1.  **Поместите PDF-документы** с документацией Python в папку `documents/`.
    Система будет обрабатывать все файлы с расширением `.pdf` в этой папке.

## Запуск

1.  **Запустите систему:**
    ```bash
    python rag_main.py
    ```

2.  **Первый запуск:**
    *   Система автоматически обнаружит PDF-файлы в папке `documents/`.
    *   Выполнит индексацию: чтение PDF, разбиение на чанки, создание эмбеддингов и сохранение в ChromaDB.
    *   Это может занять несколько минут в зависимости от количества документов.
    *   Модель генерации (`Qwen/Qwen3-0.6B`) будет автоматически загружена при первом запросе (требуется интернет).

3.  **Последующие запуски:**
    *   Индексация пропускается, если папка `chroma_db/` уже существует.
    *   Запуск происходит быстрее.

4.  **Интерактивный режим:**
    *   После настройки система перейдет в режим ожидания вопросов.
    *   Введите ваш вопрос на русском языке в консоли и нажмите Enter.
    *   Система найдет релевантную информацию в документах и сгенерирует ответ.
    *   Для выхода введите `выход` или `exit`.

## Примечания

*   **GPU/CPU:** Система автоматически использует GPU (CUDA), если она доступна. В противном случае работает на CPU (может быть медленнее).
*   **Загрузка модели:** Модель для генерации ответов (`Qwen/Qwen3-0.6B`) загружается автоматически при первом запросе и кэшируется локально.
*   **Интернет:** Требуется подключение к интернету для первой загрузки моделей и токенизаторов.
*   **Предупреждения (Warnings):**
    *   `symlinks`: На Windows вы можете видеть предупреждение о symlinks в кэше Hugging Face. Это не критично. Чтобы убрать предупреждение, можно активировать Developer Mode в Windows или запускать Python от имени администратора ([подробнее](https://docs.microsoft.com/en-us/windows/apps/get-started/enable-your-device-for-development)).
    *   `telemetry`: ChromaDB может сообщать анонимную телеметрию ([подробнее](https://docs.trychroma.com/telemetry)).
    *   `FutureWarning`: Предупреждения от библиотек `torch` и `transformers` о deprecated функциях. Не влияют на работу.